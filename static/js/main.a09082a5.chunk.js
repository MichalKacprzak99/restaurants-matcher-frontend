(this["webpackJsonprestaurant-matcher-front-end"]=this["webpackJsonprestaurant-matcher-front-end"]||[]).push([[0],{108:function(e,t,n){},109:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(34),a=n.n(s),i=(n(108),n(109),n(57)),o=n(15),j=n(8),u=n(18),l=n(60),d=n.n(l),b=n(88);d.a.defaults.baseURL="https://wfiis-cloud-project-backend.herokuapp.com/api_v1/",d.a.defaults.headers["Content-Type"]="application/json";var h=Object(b.a)(d.a.create()),O=n(187),f=n(186),p=n(191),x=n(184),m=n(181),g=n(198),y=n(197),v=n(196),C=n(1),P=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(null),a=Object(j.a)(s,2),i=a[0],o=a[1],l=Object(c.useState)(!1),d=Object(j.a)(l,2),b=d[0],P=d[1],S=Object(u.c)(),w=S.handleSubmit,W=S.register;return Object(c.useEffect)((function(){h.get("person/").then((function(e){200===e.status&&r(e.data)})).catch((function(e){e.response&&console.error(e.response.data)}))}),[]),Object(C.jsxs)(f.a,{container:!0,direction:"column",justifyContent:"space-evenly",alignItems:"center",children:[Object(C.jsx)("form",{onSubmit:w((function(e){o(null),P(!0),h.get("restaurant/match?first_person_name=".concat(e.firstPersonName,"&second_person_name=").concat(e.secondPersonName)).then((function(e){200===e.status&&(P(!1),e.data?o(e.data):o({}))})).catch((function(e){e.response&&console.error(e.response.data)}))})),children:Object(C.jsxs)(f.a,{item:!0,container:!0,direction:"column",spacing:4,paddingTop:5,children:[Object(C.jsxs)(f.a,{item:!0,container:!0,direction:"row",spacing:4,children:[Object(C.jsx)(f.a,{item:!0,xs:6,sx:{minWidth:275},children:Object(C.jsx)(m.a,{select:!0,fullWidth:!0,label:"First Person",defaultValue:"",inputProps:W("firstPersonName",{required:"Please set first person"}),children:n.map((function(e,t){return Object(C.jsx)(x.a,{value:e.name,children:e.name},t)}))})}),Object(C.jsx)(f.a,{item:!0,xs:6,sx:{minWidth:275},children:Object(C.jsx)(m.a,{select:!0,fullWidth:!0,label:"Second Person",defaultValue:"",inputProps:W("secondPersonName",{required:"Please set second person"}),children:n.map((function(e,t){return Object(C.jsx)(x.a,{value:e.name,children:e.name},t)}))})})]}),Object(C.jsx)(f.a,{item:!0,alignSelf:"center",children:Object(C.jsx)(O.a,{variant:"contained",type:"submit",color:"primary",children:"Match restaurant"})})]})}),b?Object(C.jsx)(g.a,{}):null!=i?i!=={}?function(e){var t=e.name,n=e.owner,c=e.cuisine,r=e.ratings,s=e.city,a=e.country,i=r.length?"".concat((r.reduce((function(e,t){return e+t}),0)/r.length).toFixed(2)," / 10"):"Not enough data";return Object(C.jsx)(v.a,{sx:3,children:Object(C.jsx)(y.a,{children:Object(C.jsx)(f.a,{item:!0,container:!0,direction:"column",spacing:3,children:Object(C.jsxs)(f.a,{item:!0,children:[Object(C.jsxs)(p.a,{children:["Name: ",t]}),Object(C.jsxs)(p.a,{children:["Owner name: ",n.name]}),Object(C.jsxs)(p.a,{children:["Owner phone: ",n.phone]}),Object(C.jsxs)(p.a,{children:["Cuisine: ",c.name]}),Object(C.jsxs)(p.a,{children:["City: ",s]}),Object(C.jsxs)(p.a,{children:["Country: ",a]}),Object(C.jsxs)(p.a,{children:["Rating: ",i]})]})})})})}(i):Object(C.jsx)(f.a,{item:!0,children:Object(C.jsx)(p.a,{variant:"h4",gutterBottom:!0,component:"div",children:"Could not find any matching restaurant"})}):Object(C.jsx)(C.Fragment,{})]})},S=n(21),w=n(11),W=n(189),q=n(190),k=n(200),I=function(e){var t=e.open,n=e.setOpen,c=e.setPersons,r=Object(u.c)(),s=r.handleSubmit,a=r.control,i=r.reset,o=function(){n(!1),i()};return Object(C.jsx)(W.a,{open:t,children:Object(C.jsx)(q.a,{children:Object(C.jsx)(u.b,Object(S.a)(Object(S.a)({},s),{},{children:Object(C.jsxs)("form",{onSubmit:s((function(e){h.post("person/",e).then((function(t){201===t.status&&(c((function(t){return[].concat(Object(w.a)(t),[e])})),o())})).catch((function(e){e.response&&console.error(e.response.data)}))})),children:[Object(C.jsx)(u.a,{render:function(e){var t=e.field;return Object(C.jsx)(m.a,Object(S.a)(Object(S.a)({},t),{},{fullWidth:!0,label:"Name",required:!0,onChange:function(e){return t.onChange(e)},value:t.value,type:"text"}))},name:"name",control:a}),Object(C.jsx)(u.a,{render:function(e){var t=e.field;return Object(C.jsx)(m.a,Object(S.a)(Object(S.a)({},t),{},{fullWidth:!0,label:"Phone",required:!0,onChange:function(e){return t.onChange(e)},value:t.value,type:"text"}))},name:"phone",control:a}),Object(C.jsx)(u.a,{render:function(e){var t=e.field;return Object(C.jsx)(m.a,Object(S.a)(Object(S.a)({},t),{},{fullWidth:!0,label:"City",required:!0,onChange:function(e){return t.onChange(e)},value:t.value,type:"text"}))},name:"city",control:a}),Object(C.jsx)(u.a,{render:function(e){var t=e.field;return Object(C.jsx)(m.a,Object(S.a)(Object(S.a)({},t),{},{fullWidth:!0,label:"Country",required:!0,onChange:function(e){return t.onChange(e)},value:t.value,type:"text"}))},name:"country",control:a}),Object(C.jsxs)(k.a,{sx:{justifyContent:"center"},children:[Object(C.jsx)(O.a,{onClick:function(){return o()},color:"primary",children:"Cancel"}),Object(C.jsx)(O.a,{type:"submit",color:"primary",children:"Add"})]})]})}))})})},F=n(199),N=function(e){var t=e.person,n=e.setPersons,c=t.name,r=t.phone,s=t.city,a=t.country;return Object(C.jsx)(v.a,{sx:{minWidth:275},children:Object(C.jsx)(y.a,{children:Object(C.jsxs)(f.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(C.jsxs)(f.a,{item:!0,children:[Object(C.jsxs)(p.a,{children:["Name: ",c]}),Object(C.jsxs)(p.a,{children:["Phone ",r]}),Object(C.jsxs)(p.a,{children:["City: ",s]}),Object(C.jsxs)(p.a,{children:["Country: ",a]})]}),Object(C.jsx)(f.a,{item:!0,children:Object(C.jsx)(F.a,{children:Object(C.jsx)(O.a,{variant:"contained",size:"small",onClick:function(){h.delete("person/?person_name=".concat(c)).then((function(e){204===e.status&&n((function(e){return e.filter((function(e){return e.name!==c}))}))})).catch((function(e){e.response&&console.error(e.response.data)}))},color:"error",children:"Delete"})})})]})})})},_=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],s=t[1],a=r.a.useState(!1),i=Object(j.a)(a,2),o=i[0],u=i[1];return Object(c.useEffect)((function(){h.get("person/").then((function(e){200===e.status&&s(e.data)})).catch((function(e){e.response&&console.error(e.response.data)}))}),[]),Object(C.jsxs)(f.a,{container:!0,direction:"column",justifyContent:"space-evenly",alignItems:"center",spacing:4,paddingTop:5,children:[Object(C.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",children:n.map((function(e,t){return Object(C.jsx)(f.a,{item:!0,children:Object(C.jsx)(N,{person:e,setPersons:s})},t)}))}),Object(C.jsx)(f.a,{item:!0,children:Object(C.jsx)(O.a,{variant:"contained",color:"success",onClick:function(){return u(!0)},children:"Add new person"})}),Object(C.jsx)(I,{open:o,setOpen:u,setPersons:s})]})},A=function(e){var t=e.open,n=e.setOpen,c=e.setCuisines,r=Object(u.c)(),s=r.handleSubmit,a=r.control,i=r.reset,o=function(){n(!1),i()};return Object(C.jsx)(W.a,{open:t,children:Object(C.jsx)(q.a,{children:Object(C.jsx)(u.b,Object(S.a)(Object(S.a)({},s),{},{children:Object(C.jsxs)("form",{onSubmit:s((function(e){h.post("cuisine/",e).then((function(t){201===t.status&&(c((function(t){return[].concat(Object(w.a)(t),[e])})),o())})).catch((function(e){e.response&&console.error(e.response.data)}))})),children:[Object(C.jsx)(u.a,{render:function(e){var t=e.field;return Object(C.jsx)(m.a,Object(S.a)(Object(S.a)({},t),{},{fullWidth:!0,label:"Name",required:!0,onChange:function(e){return t.onChange(e)},value:t.value,type:"text"}))},name:"name",control:a}),Object(C.jsxs)(k.a,{sx:{justifyContent:"center"},children:[Object(C.jsx)(O.a,{onClick:function(){return o()},color:"primary",children:"Cancel"}),Object(C.jsx)(O.a,{type:"submit",color:"primary",children:"Add"})]})]})}))})})},E=function(e){var t=e.cuisine,n=e.setCuisines,c=t.name;return Object(C.jsx)(v.a,{sx:{minWidth:275},children:Object(C.jsx)(y.a,{children:Object(C.jsxs)(f.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(C.jsx)(f.a,{item:!0,children:Object(C.jsxs)(p.a,{children:["Name: ",c]})}),Object(C.jsx)(f.a,{item:!0,children:Object(C.jsx)(F.a,{children:Object(C.jsx)(O.a,{variant:"contained",size:"small",onClick:function(){h.delete("cuisine/?cuisine_name=".concat(c)).then((function(e){204===e.status&&n((function(e){return e.filter((function(e){return e.name!==c}))}))})).catch((function(e){e.response&&console.error(e.response.data)}))},color:"error",children:"Delete"})})})]})})})},R=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],s=t[1],a=r.a.useState(!1),i=Object(j.a)(a,2),o=i[0],u=i[1];return Object(c.useEffect)((function(){h.get("cuisine/").then((function(e){200===e.status&&s(e.data)})).catch((function(e){e.response&&console.error(e.response.data)}))}),[]),Object(C.jsxs)(f.a,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",spacing:4,paddingTop:5,children:[Object(C.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",children:n.map((function(e,t){return Object(C.jsx)(f.a,{children:Object(C.jsx)(E,{cuisine:e,setCuisines:s})},t)}))}),Object(C.jsx)(f.a,{item:!0,children:Object(C.jsx)(O.a,{variant:"contained",color:"success",onClick:function(){return u(!0)},children:"Add new cuisine"})}),Object(C.jsx)(A,{open:o,setOpen:u,setCuisines:s})]})},T=function(e){var t=e.open,n=e.setOpen,r=e.setRestaurants,s=Object(c.useState)([]),a=Object(j.a)(s,2),i=a[0],o=a[1],l=Object(c.useState)([]),d=Object(j.a)(l,2),b=d[0],f=d[1],p=Object(u.c)({}),g=p.handleSubmit,y=p.reset,v=p.register,P=function(){n(!1),y()};return Object(c.useEffect)((function(){h.get("person/").then((function(e){200===e.status&&f(e.data)})).catch((function(e){e.response&&console.error(e.response.data)})),h.get("cuisine/").then((function(e){200===e.status&&o(e.data)})).catch((function(e){e.response&&console.error(e.response.data)}))}),[]),Object(C.jsx)(W.a,{open:t,children:Object(C.jsx)(q.a,{children:Object(C.jsxs)("form",{onSubmit:g((function(e){h.post("restaurant/",e).then((function(e){201===e.status&&(r((function(t){return[].concat(Object(w.a)(t),[e.data])})),P())})).catch((function(e){e.response&&console.error(e.response.data)}))})),children:[Object(C.jsx)(m.a,{fullWidth:!0,label:"Name",required:!0,type:"text",inputProps:v("name",{required:"Please set name"})}),Object(C.jsx)(m.a,{fullWidth:!0,label:"City",required:!0,type:"text",inputProps:v("city",{required:"Please set city"})}),Object(C.jsx)(m.a,{fullWidth:!0,label:"Country",required:!0,type:"text",inputProps:v("country",{required:"Please set country"})}),Object(C.jsx)(m.a,{select:!0,fullWidth:!0,label:"Owner",defaultValue:"",inputProps:v("owner",{required:"Please set owner"}),children:b.map((function(e,t){return Object(C.jsx)(x.a,{value:e,children:e.name},t)}))}),Object(C.jsx)(m.a,{select:!0,fullWidth:!0,label:"Cuisine",defaultValue:"",inputProps:v("cuisine",{required:"Please set cuisine"}),children:i.map((function(e,t){return Object(C.jsx)(x.a,{value:e,children:e.name},t)}))}),Object(C.jsxs)(k.a,{sx:{justifyContent:"center"},children:[Object(C.jsx)(O.a,{onClick:function(){return P()},color:"primary",children:"Cancel"}),Object(C.jsx)(O.a,{type:"submit",color:"primary",children:"Add"})]})]})})})},V=function(e){for(var t=e.restaurant,n=e.setRestaurants,r=t.name,s=t.owner,a=t.cuisine,i=t.ratings,o=t.city,l=t.country,d=Object(c.useState)(i),b=Object(j.a)(d,2),g=b[0],P=b[1],S=Object(u.c)({}),W=S.handleSubmit,q=S.register,k=0,I=0;I<i.length;I++)k+=parseInt(i[I],10);var N=Object(c.useState)(k/i.length),_=Object(j.a)(N,2),A=_[0],E=_[1];return Object(c.useEffect)((function(){for(var e=0,t=0;t<g.length;t++)e+=parseInt(g[t],10);E(e/g.length)}),[g]),Object(C.jsx)(v.a,{sx:3,children:Object(C.jsx)(y.a,{children:Object(C.jsxs)(f.a,{container:!0,direction:"column",spacing:3,children:[Object(C.jsxs)(f.a,{item:!0,children:[Object(C.jsxs)(p.a,{children:["Name: ",r]}),Object(C.jsxs)(p.a,{children:["Owner name: ",s.name]}),Object(C.jsxs)(p.a,{children:["Owner phone: ",s.phone]}),Object(C.jsxs)(p.a,{children:["Cuisine: ",a.name]}),Object(C.jsxs)(p.a,{children:["City: ",o]}),Object(C.jsxs)(p.a,{children:["Country: ",l]}),Object(C.jsxs)(p.a,{children:["Rating: ",g.length?"".concat(A.toFixed(2)," / 10"):"Not enough data"]})]}),Object(C.jsxs)(f.a,{item:!0,container:!0,direction:"column",children:[Object(C.jsx)("form",{onSubmit:W((function(e){h.post("restaurant/rate/?restaurant_name=".concat(r),e).then((function(t){200===t.status&&P((function(t){return[].concat(Object(w.a)(t),[e.rating])}))})).catch((function(e){e.response&&console.error(e.response.data)}))})),children:Object(C.jsxs)(f.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(C.jsx)(f.a,{item:!0,xs:8,children:Object(C.jsx)(m.a,{select:!0,fullWidth:!0,label:"Select",defaultValue:"",inputProps:q("rating",{required:"rating"}),children:Object(w.a)(Array(11).keys()).map((function(e){return Object(C.jsx)(x.a,{value:e,children:e},e)}))})}),Object(C.jsx)(f.a,{item:!0,xs:4,children:Object(C.jsx)(F.a,{children:Object(C.jsx)(O.a,{variant:"contained",type:"submit",size:"small",children:"Rate"})})})]})}),Object(C.jsx)(f.a,{item:!0,alignSelf:"center",children:Object(C.jsx)(F.a,{children:Object(C.jsx)(O.a,{variant:"contained",size:"small",onClick:function(){h.delete("restaurant/?restaurant_name=".concat(r)).then((function(e){204===e.status&&n((function(e){return e.filter((function(e){return e.name!==r}))}))})).catch((function(e){e.response&&console.error(e.response.data)}))},color:"error",children:"Delete"})})})]})]})})})},D=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],s=t[1],a=r.a.useState(!1),i=Object(j.a)(a,2),o=i[0],u=i[1];return Object(c.useEffect)((function(){h.get("restaurant/").then((function(e){200===e.status&&s(e.data)})).catch((function(e){e.response&&console.error(e.response.data)}))}),[]),Object(C.jsxs)(f.a,{container:!0,direction:"column",justifyContent:"space-evenly",alignItems:"center",spacing:4,paddingTop:5,children:[Object(C.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",children:n.map((function(e,t){return Object(C.jsx)(f.a,{item:!0,children:Object(C.jsx)(V,{restaurant:e,setRestaurants:s})},t)}))}),Object(C.jsx)(f.a,{item:!0,children:Object(C.jsx)(O.a,{variant:"contained",color:"success",onClick:function(){return u(!0)},children:"Add new restaurant"})}),Object(C.jsx)(T,{open:o,setOpen:u,setRestaurants:s})]})},z=function(e){var t=e.open,n=e.setOpen,r=e.setFriendship,s=Object(c.useState)([]),a=Object(j.a)(s,2),i=a[0],o=a[1],l=Object(u.c)({}),d=l.handleSubmit,b=l.reset,p=l.register,g=function(){n(!1),b()};return Object(c.useEffect)((function(){h.get("person/").then((function(e){200===e.status&&o(e.data)})).catch((function(e){e.response&&console.error(e.response.data)}))}),[]),Object(C.jsx)(W.a,{open:t,sx:{minWidth:500},children:Object(C.jsx)(q.a,{sx:{minWidth:500},children:Object(C.jsxs)("form",{onSubmit:d((function(e){var t={members:[e.firstPerson,e.secondPerson]};h.post("friendship/",t).then((function(e){201===e.status&&(r((function(e){return[].concat(Object(w.a)(e),[t])})),g())})).catch((function(e){e.response&&console.error(e.response.data)}))})),children:[Object(C.jsxs)(f.a,{container:!0,direction:"row",spacing:2,children:[Object(C.jsx)(f.a,{item:!0,xs:6,children:Object(C.jsx)(m.a,{select:!0,fullWidth:!0,label:"First person",defaultValue:"",inputProps:p("firstPerson",{required:"Please set first person"}),children:i.map((function(e,t){return Object(C.jsx)(x.a,{value:e.name,children:e.name},t)}))})}),Object(C.jsx)(f.a,{item:!0,xs:6,children:Object(C.jsx)(m.a,{select:!0,fullWidth:!0,label:"Second person",defaultValue:"",inputProps:p("secondPerson",{required:"Please set second person"}),children:i.map((function(e,t){return Object(C.jsx)(x.a,{value:e.name,children:e.name},t)}))})})]}),Object(C.jsxs)(k.a,{sx:{justifyContent:"center"},children:[Object(C.jsx)(O.a,{onClick:function(){return g()},color:"primary",children:"Cancel"}),Object(C.jsx)(O.a,{type:"submit",color:"primary",children:"Add"})]})]})})})},B=function(e){var t=e.friendship,n=e.setFriendship,c=t.members;return Object(C.jsx)(v.a,{sx:3,children:Object(C.jsx)(y.a,{children:Object(C.jsxs)(f.a,{container:!0,direction:"column",spacing:3,children:[Object(C.jsx)(f.a,{item:!0,children:Object(C.jsxs)(p.a,{children:["People in friendship: ",c[0]," & ",c[1]]})}),Object(C.jsx)(f.a,{item:!0,alignSelf:"center",children:Object(C.jsx)(F.a,{children:Object(C.jsx)(O.a,{variant:"contained",size:"small",onClick:function(){h.delete("friendship/?person_name=".concat(c[0],"&friend_name=").concat(c[1])).then((function(e){204===e.status&&n((function(e){return e.filter((function(e){return!(Object(w.a)(e.members).every((function(e){return c.includes(e)}))&&c.every((function(t){return Object(w.a)(e.members).includes(t)})))}))}))})).catch((function(e){e.response&&console.error(e.response.data)}))},color:"error",children:"Delete"})})})]})})})},L=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],s=t[1],a=r.a.useState(!1),i=Object(j.a)(a,2),o=i[0],u=i[1];return Object(c.useEffect)((function(){h.get("friendship/").then((function(e){200===e.status&&s(e.data)})).catch((function(e){e.response&&console.error(e.response.data)}))}),[]),Object(C.jsxs)(f.a,{container:!0,direction:"column",justifyContent:"space-evenly",alignItems:"center",spacing:4,paddingTop:5,children:[Object(C.jsx)(f.a,{item:!0,container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",children:n.map((function(e,t){return Object(C.jsx)(f.a,{item:!0,children:Object(C.jsx)(B,{friendship:e,friendships:n,setFriendship:s})},t)}))}),Object(C.jsx)(f.a,{item:!0,children:Object(C.jsx)(O.a,{variant:"contained",color:"success",onClick:function(){return u(!0)},children:"Add new friendship"})}),Object(C.jsx)(z,{open:o,setOpen:u,setFriendship:s})]})},G=n(193),J=n(192),M=n(194),H=function(){var e=[{to:"",name:"Home",element:Object(C.jsx)(P,{})},{to:"restaurants",name:"Restaurants",element:Object(C.jsx)(D,{})},{to:"people",name:"People",element:Object(C.jsx)(_,{})},{to:"friendships",name:"Friendships",element:Object(C.jsx)(L,{})},{to:"cuisines",name:"Cuisines",element:Object(C.jsx)(R,{})}];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(J.a,{sx:{flexGrow:1},children:Object(C.jsx)(G.a,{position:"static",children:Object(C.jsx)(M.a,{children:e.map((function(e,t){var n=e.to,c=e.name;return Object(C.jsx)(p.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:Object(C.jsx)(i.b,{to:"restaurants-matcher-frontend/".concat(n),style:{textDecoration:"none"},children:c})},t)}))})})}),Object(C.jsx)(o.c,{children:e.map((function(e,t){var n=e.to,c=e.element;return Object(C.jsx)(o.a,{path:"restaurants-matcher-frontend/".concat(n),element:c},t)}))})]})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,201)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(i.a,{children:Object(C.jsx)(H,{})})}),document.getElementById("root")),U()}},[[135,1,2]]]);
//# sourceMappingURL=main.a09082a5.chunk.js.map